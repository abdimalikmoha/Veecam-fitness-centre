;/*FB_PKG_DELIM*/

__d("CometFeedUnitStory_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnitStory_story",selections:[{args:null,kind:"FragmentSpread",name:"CometFeedUnitStoryStrategy_feedUnit"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometPhotoPermalinkRootQuery.graphql",["IsWorkUser.relayprovider","CometFeedUnitStoryStrategy_feedUnit$normalization.graphql","CometPhotoPermalinkRootQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g={__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider")};a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey"},c={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},d={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},e={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},f={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},h={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},i={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},j={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},k={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},l={defaultValue:null,kind:"LocalArgument",name:"mediasetToken"},m={defaultValue:null,kind:"LocalArgument",name:"nodeID"},n={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},o={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},p={defaultValue:null,kind:"LocalArgument",name:"scale"},q={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},r=[{kind:"Variable",name:"token",variableName:"mediasetToken"}],s=[{kind:"Variable",name:"find",variableName:"nodeID"},{kind:"Literal",name:"media_type",value:"PHOTO"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"is_viewer_admin",storageKey:null},v={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[t,u],type:"Page",abstractKey:null}],storageKey:null},w={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedUnitStory_story"}],storageKey:null},x=[{kind:"Variable",name:"id",variableName:"nodeID"}],y={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};u={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[y,t,{kind:"InlineFragment",selections:[u],type:"Page",abstractKey:null}],storageKey:null};var z={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{args:null,fragment:b("CometFeedUnitStoryStrategy_feedUnit$normalization.graphql"),kind:"FragmentSpread"},t],storageKey:null},A=[t];return{fragment:{argumentDefinitions:[a,c,d,e,f,h,i,j,k,l,m,n,o,p,q],kind:"Fragment",metadata:null,name:"CometPhotoPermalinkRootQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"mediaset",plural:!1,selections:[{alias:null,args:s,concreteType:"MediaSetMediaConnection",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaSetMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[v,w],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[w],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:x,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[w,v],type:"Photo",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[h,c,d,e,f,i,j,k,n,o,p,q,m,l,a,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"}],kind:"Operation",name:"CometPhotoPermalinkRootQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"mediaset",plural:!1,selections:[y,{alias:null,args:s,concreteType:"MediaSetMediaConnection",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaSetMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[y,{kind:"InlineFragment",selections:[u,z],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[z],type:"Video",abstractKey:null},{kind:"InlineFragment",selections:A,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:A,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:A,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:A,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:A,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},t],storageKey:null},{alias:null,args:x,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[y,t,{kind:"InlineFragment",selections:[z,u],type:"Photo",abstractKey:null}],storageKey:null}]},params:{id:b("CometPhotoPermalinkRootQuery_facebookRelayOperation"),metadata:{},name:"CometPhotoPermalinkRootQuery",operationKind:"query",text:null,providedVariables:g}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometPhotosLoggedOutCTAWrapperFooterDataQuery.graphql",["CometPhotosLoggedOutCTAWrapperFooterDataQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nodeID"}],c=[{kind:"Variable",name:"id",variableName:"nodeID"}],d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometPhotosLoggedOutCTAWrapperFooterDataQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[d],storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometPhotosLoggedOutCTAWrapperFooterDataQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[e,d,f],storageKey:null}],type:"Photo",abstractKey:null},f],storageKey:null}]},params:{id:b("CometPhotosLoggedOutCTAWrapperFooterDataQuery_facebookRelayOperation"),metadata:{},name:"CometPhotosLoggedOutCTAWrapperFooterDataQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometFeedUnitStory.react",["CometFeedUnitStoryStrategy.react","CometFeedUnitStory_story.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var b=a.story;a=babelHelpers.objectWithoutPropertiesLoose(a,["story"]);return i.jsx("div",{className:"xh8yej3",children:i.jsx(c("CometFeedUnitStoryStrategy.react"),babelHelpers["extends"]({},a,{feedUnit:b}))})}a.displayName=a.name+" [from "+f.id+"]";e=d("CometRelay").createSuspenseFragmentContainer_DEPRECATED(a,{story:h!==void 0?h:h=b("CometFeedUnitStory_story.graphql")});g["default"]=e}),98);
__d("PagesPermalinkImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744169");c=b("FalcoLoggerInternal").create("pages_permalink_impression",a);e.exports=c}),null);
__d("XCometPhotoControllerParamsRefineValidator",["coerceRouteParams","refine"],(function(a,b,c,d,e,f,g){b=d("refine").or(d("refine").literal(null),d("refine").string());e=d("refine").object({comment_id:b,fbid:d("refine").string(),idorvanity:b,reply_comment_id:b,set:b});var h=d("refine").coercion(e),i=Object.freeze({fbid:{legacyNames:[],"default":null,coercibleType:"FBID"},set:{legacyNames:[],"default":null,coercibleType:"STRING"},idorvanity:{legacyNames:[],"default":null,coercibleType:"STRING"},comment_id:{legacyNames:[],"default":null,coercibleType:"STRING"},reply_comment_id:{legacyNames:[],"default":null,coercibleType:"STRING"}});function a(a){return h(c("coerceRouteParams")(a,i))}g.XCometPhotoControllerParamsRefineValidator=a}),98);
__d("CometPhotoPermalinkRoot.react",["CometContentArea.react","CometContentNotAvailable.react","CometErrorBoundary.react","CometFeedStoryGlimmer.react","CometFeedUnitStory.react","CometPhotoPermalinkRootQuery.graphql","CometPlaceholder.react","CometRelay","CometRouteParams","PagesLogger","PagesLoggerEventEnum","PagesPermalinkImpressionFalcoEvent","RelayUFI2CommentsKeyContext","XCometPhotoControllerParamsRefineValidator","react","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useEffect,k=0,l=h!==void 0?h:h=b("CometPhotoPermalinkRootQuery.graphql");function a(a){var b,e;a=a.queries;var f=d("CometRouteParams").useCometRefinedRouteParams(d("XCometPhotoControllerParamsRefineValidator").XCometPhotoControllerParamsRefineValidator);if(!f)throw c("unrecoverableViolation")("Invalid query params","comet_infra");f=a.photoPermalinkRootQueryReference.variables;a=d("CometRelay").usePreloadedQuery(l,a.photoPermalinkRootQueryReference);b=(b=(b=a.mediaset)==null?void 0:(b=b.media)==null?void 0:(b=b.edges[0])==null?void 0:b.node)!=null?b:a.node;a=b==null?void 0:b.creation_story;var g=b==null?void 0:(e=b.owner)==null?void 0:e.id,h=(b==null?void 0:(e=b.owner)==null?void 0:e.is_viewer_admin)===!0;j(function(){h&&g!=null&&h&&(d("PagesLogger").log(g,c("PagesLoggerEventEnum").IMPRESSION,"admin_permalink_view",null,["core_biz_growth"]),c("PagesPermalinkImpressionFalcoEvent").log(function(){return{event_data:{},event_location:"notification",page_id:g}}))},[g,h]);a==null&&c("recoverableViolation")("data needs to contain a story for the media","comet_ui");return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("CometContentNotAvailable.react"),{})},children:i.jsx(c("RelayUFI2CommentsKeyContext").Provider,{value:"CometPhotoPermalinkRootQuery",children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometContentArea.react"),{children:i.jsx("div",{className:"xw7yly9 xvue9z",children:i.jsx(c("CometFeedStoryGlimmer.react"),{})})}),children:a==null?i.jsx(c("CometContentNotAvailable.react"),{}):i.jsx(c("CometContentArea.react"),{children:i.jsx("div",{className:"xw7yly9 xvue9z",children:i.jsx(c("CometFeedUnitStory.react"),{position:k,story:a,variables:f})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMediaViewerStage.react",["cr:3346","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=b("cr:3346")}),98);
__d("CometPhotoViewerAIProductTagReducer",["addToMap"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case"SET_KNOWN_AI_TAGS":var d;return babelHelpers["extends"]({},a,{knownAITags:c("addToMap")((d=a.knownAITags)!=null?d:new Map(),b.photoID,b.knownAITags)});case"SET_UNKNOWN_AI_TAGS":return babelHelpers["extends"]({},a,{unknownAITags:c("addToMap")((d=a.unknownAITags)!=null?d:new Map(),b.photoID,b.unknownAITags)});case"SET_IS_PRODUCT_TAGGING":return babelHelpers["extends"]({},a,{isProductTagging:b.isProductTagging});case"SET_TAG_MODE_ENABLED":return babelHelpers["extends"]({},a,{tagModeEnabled:b.tagModeEnabled});case"SET_HOVER_FOR_KNOWN_TAG":return babelHelpers["extends"]({},a,{highlightedKnownAITagID:b.hovering?b.id:null});case"REMOVE_KNOWN_AI_TAG":return babelHelpers["extends"]({},a,{knownAITags:c("addToMap")((d=a.knownAITags)!=null?d:new Map(),b.photoID,(d=a.knownAITags)==null?void 0:(d=d.get(b.photoID))==null?void 0:d.filter(function(a){return a.productID!==b.productID}))});case"UPDATE_TAG_DATA":return babelHelpers["extends"]({},a,{isProductTagging:b.tagData.isProductTagging,tagModeEnabled:b.tagData.tagModeEnabled})}return a}g["default"]=a}),98);
__d("CometMediaViewerDispatcherContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(c("emptyFunction"));g["default"]=b}),98);
__d("CometMediaViewerViewStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({isHovered:!1,prevMouseX:0,prevMouseY:0,prevScale:1,scale:1,translateX:0,translateY:0});g["default"]=b}),98);
__d("CometPhotoViewerZoomUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return c[0]===0||c[1]===0?!1:c[1]<a.clientHeight*b||c[0]<a.clientWidth*b}f.isOverflown=a}),66);
__d("CometPhotoViewerZoom.react",["CometMediaViewerDispatcherContext","CometMediaViewerViewStateContext","CometPhotoViewerContainerContext","CometPhotoViewerZoomUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useRef;function a(a){a=a.children;var b=j(c("CometMediaViewerViewStateContext")),e=j(c("CometMediaViewerDispatcherContext")),f=j(c("CometPhotoViewerContainerContext")),g=k(null),l=i(function(){if(f!=null&&f.current!=null){var a=f.current.getBoundingClientRect();return{height:a.height,left:a.left,top:a.top,width:a.width}}return null},[f]),m=i(function(a){var b;b=(b=g.current)==null?void 0:b.getBoundingClientRect();var c=l();b&&c&&e({clientX:a.clientX,clientY:a.clientY,currentRectCoord:[b.top,b.left],currentRectSize:[b.width,b.height],height:c.height,type:"DRAG",width:c.width})},[e,l]),n=i(function(){window.removeEventListener("mouseup",n),window.removeEventListener("mousemove",m)},[m]),o=i(function(a){if(b.scale<=1)return;var c=l();if(g&&g.current&&c&&!d("CometPhotoViewerZoomUtils").isOverflown(g.current,b.scale,[c.width,c.height]))return;a.preventDefault();e({clientX:a.clientX,clientY:a.clientY,type:"DRAG_START"});window.addEventListener("mouseup",n);window.addEventListener("mousemove",m)},[e,l,m,n,b.scale]);return h.jsx("div",{onMouseDown:o,children:h.jsx("div",{className:""+(b.prevScale!==b.scale?" x1unhpq9 x11xpdln xz4gly6":""),ref:g,style:{transform:"translate("+b.translateX+"px, "+b.translateY+"px) scale("+b.scale+")"},children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometPhotoViewerResponsiveInnerWrapper.react",["CometPhotoViewerZoom.react","CometRouteRenderType","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={backgroundContainerDialog:{"@media (max-width: 899px)_height":"x1rmlpev",$$css:!0},backgroundContainerDialogWithFooter:{height:"x4uq5q4","@media (max-width: 899px)_height":"xj0wjbl",$$css:!0},backgroundContainerResponsive:{alignItems:"x6s0dn4",display:"x78zum5",position:"x1n2onr6","@media (max-width: 899px)_height":"xiylbte",$$css:!0},backgroundContainerTabs:{height:"xtp0wl1","@media (max-width: 899px)_height":"xwot789",$$css:!0},backgroundContainerTabsWithFooter:{height:"xossbfl","@media (max-width: 899px)_height":"x7zj7kz",$$css:!0},ie11minHeight:{minHeight:"x4zw9a1",$$css:!0},ie11PhotoWrapperWidth:{width:"xh8yej3",$$css:!0},image:{maxWidth:"x193iq5w","@media (max-width: 899px)_maxHeight":"x4fas0m",$$css:!0},maxImageHeightDialog:{maxHeight:"x1bwycvy","@media (max-width: 899px)_maxHeight":"x6sdy9m",$$css:!0},maxImageHeightDialogWithFooter:{maxHeight:"x4ju7c5","@media (max-width: 899px)_maxHeight":"x9vb2y4",$$css:!0},maxImageHeightTabs:{maxHeight:"x85a59c","@media (max-width: 899px)_maxHeight":"x6sdy9m",$$css:!0},maxImageHeightTabsWithFooter:{maxHeight:"x1wlxzsl","@media (max-width: 899px)_maxHeight":"x1h9lmpj",$$css:!0},passthroughImage:{backgroundPosition:"x1lvsgvq",backgroundRepeat:"xiy17q3",backgroundSize:"x1tbiz1a",height:"x5yr21d",width:"xh8yej3",$$css:!0},photoWrapperPlaceholder:{height:"x5yr21d",width:"xh8yej3",$$css:!0},photoWrapperResponsive:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0},placeholderContainer:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function j(a,b){a===void 0&&(a=!1);b===void 0&&(b=!1);var c=d("CometRouteRenderType").useIsPushView();return"x6s0dn4 x78zum5 x1n2onr6"+((a&&!c?" x7zj7kz":""+(a&&c?" xj0wjbl":""+(!a&&!c?" xwot789":""+(!a&&c?" x1rmlpev":" xiylbte"))))+(b?" x5yr21d xh8yej3":""+(a&&!c?" xossbfl":""+(a&&c?" x4uq5q4":""+(!a&&!c?" xtp0wl1":""+(!a&&c?"":""))))))}function k(a,b){var e=d("CometRouteRenderType").useIsPushView();return""+((a&&!e?" x1wlxzsl":""+(a&&e?" x4ju7c5":""+(!a&&!e?" x85a59c":""+(!a&&e?" x1bwycvy":""))))+((b?""+(a&&!e?" x1h9lmpj":""+(a&&e?" x9vb2y4":""+(!a&&!e?" x6sdy9m":""+(!a&&e?" x6sdy9m":"")))):" x4fas0m x193iq5w")+((c("gkx")("1299319")?" x4zw9a1":""+(b?""+(b?"":""+(a&&!e?"":""+(a&&e?"":""+(!a&&!e?"":""+(!a&&e?"":""))))):""))+(b?" x1lvsgvq xiy17q3 x1tbiz1a x5yr21d xh8yej3":""))))}function l(a,b){var e=d("CometRouteRenderType").useIsPushView();return[!a&&e&&i.maxImageHeightDialog,!a&&!e&&i.maxImageHeightTabs,a&&e&&i.maxImageHeightDialogWithFooter,a&&!e&&i.maxImageHeightTabsWithFooter,b&&i.passthroughImage,!b&&i.image,c("gkx")("1299319")&&i.ie11minHeight]}function a(a,b){var c=a.height,d=a.imageUri,e=a.showPlaceholderImage;e=e===void 0?!0:e;var f=a.width;a=a.withFooter;a=a===void 0?!1:a;a=k(a,!0);var g=j(!1,!0);return h.jsx("div",{className:g,ref:(g=b)!=null?g:null,children:d!=null&&e&&h.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf xl56j7k x1n2onr6 x5yr21d xh8yej3",children:h.jsx("div",{className:a,style:c!=null&&f!=null?{backgroundImage:"url("+d+")",maxHeight:c,maxWidth:f}:{backgroundImage:"url("+d+")"}},d)})})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){var d=a.imageComponent,e=a.imageComponentWithXStyle;a=a.withFooter;a=a===void 0?!1:a;var f=k(a,!1);a=l(a,!1);b=h.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf xl56j7k x1n2onr6"+(c("gkx")("1299319")?" xh8yej3":""),ref:b,children:d!=null?d(f):e!=null?e(a):null});return h.jsx(c("CometPhotoViewerZoom.react"),{children:b})}b.displayName=b.name+" [from "+f.id+"]";e=h.forwardRef(b);f=h.forwardRef(a);g.useCometPhotoViewerContainerStyles=j;g.CometPhotoViewerImageWrapper=e;g.CometPhotoViewerPlaceholderWrapper=f}),98);
__d("CometPhotoRoot.react",["CometFeedStoryClickLoggerImpl.react","CometMediaViewerStage.react","CometPageLayoutWithComplementaryContent.react","CometPhotoViewerAIProductTagReducer","CometPhotoViewerResponsiveInnerWrapper.react","CometPhotoViewerViewStateContext","CometPhotoViewerViewStateDispatcherContext","CometPlaceholder.react","CometProductTagFunnelIDContext","CometProductTagReferralCodeContext","CometRouteParams","CometTrackingCodeContext","CometTrackingNodeProvider.react","HoveredProductIDContext","RelayUFI2CommentsKeyContext","StoryRenderLocation","cr:1689664","deferredLoadComponent","react","requireDeferredForDisplay","unrecoverableViolation","useCurrentRoute","useRoutePassthroughProps","validateAggregatedStoryTrackingNodeIndex","validateTrackingCode"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useMemo,j=e.useReducer,k=e.useState,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometPhotoRootContent.react").__setRef("CometPhotoRoot.react"));function a(a){var e=d("CometRouteParams").useRouteParams(),f=c("useRoutePassthroughProps")(),g=c("validateTrackingCode")(f==null?void 0:f.trackingCode),m=(f==null?void 0:f.origSrc)!=null?String(f==null?void 0:f.origSrc):null,n=(f==null?void 0:f.origWidth)!=null?Number(f==null?void 0:f.origWidth):null,o=(f==null?void 0:f.origHeight)!=null?Number(f==null?void 0:f.origHeight):null,p=(f==null?void 0:f.origOverlayShown)!=null?Boolean(f==null?void 0:f.origOverlayShown):null,q=(f==null?void 0:f.productTagReferralCode)!=null?String(f==null?void 0:f.productTagReferralCode):null,r=(f==null?void 0:f.productTagFunnelID)!=null?String(f==null?void 0:f.productTagFunnelID):null,s=c("useCurrentRoute")();s=(s=s==null?void 0:s.transparent)!=null?s:!1;var t=k(null),u=t[0],v=t[1];t=i(function(){return{hoveredProductID:u,setHoveredProductID:v}},[u,v]);var w=j(function(a,b){a=a;var d=[c("CometPhotoViewerAIProductTagReducer")];for(var e=0;e<d.length;e++){var f=d[e];a=f(a,b)}return a},{highlightedKnownAITagID:null,isProductTagging:!1,knownAITags:null,tagModeEnabled:!1,unknownAITags:null}),x=w[0];w=w[1];var y=e==null?void 0:e.fbid;e=e==null?void 0:e.set;var z=c("validateAggregatedStoryTrackingNodeIndex")(f==null?void 0:f.index),A=f==null?void 0:f.storyRenderLocation,B=void 0;typeof A==="string"&&(B=c("StoryRenderLocation")[A.toUpperCase()]);A=Boolean(f==null?void 0:f.isUntagged);if(y==null||typeof y!=="string")throw c("unrecoverableViolation")("Invalid fbid parameter","comet_ui");if(e!=null&&typeof e!=="string")throw c("unrecoverableViolation")("Invalid set parameter","comet_ui");f=s?{backgroundColor:"dark"}:null;x=h.jsx(c("CometPhotoViewerViewStateContext").Provider,{value:x,children:h.jsx(c("CometPhotoViewerViewStateDispatcherContext").Provider,{value:w,children:h.jsx(c("HoveredProductIDContext").Provider,{value:t,children:h.jsx(c("RelayUFI2CommentsKeyContext").Provider,{value:"CometPhotoRootQuery",children:h.jsx(c("CometTrackingNodeProvider.react"),{index:z,trackingNode:82,children:h.jsx(c("CometProductTagReferralCodeContext").Provider,{value:q,children:h.jsxs(c("CometProductTagFunnelIDContext").Provider,{value:r,children:[h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("CometPageLayoutWithComplementaryContent.react"),{hideContainerBackground:s,isRightRailFixed:!0,rightRail:h.jsx("div",{}),children:h.jsx(c("CometMediaViewerStage.react"),babelHelpers["extends"]({},f,{isUntagged:A,storyRenderLocation:B,useKeyCommands:!1,children:h.jsx(d("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerPlaceholderWrapper,{height:o,imageUri:m,showPlaceholderImage:m!=null&&n!=null&&o!=null&&p!==!0,width:n})}))}),children:h.jsx(l,babelHelpers["extends"]({hideContainerBackground:s,isUntagged:A,mediasetToken:e,origHeight:o,origOverlayShown:p,origSrc:m,origWidth:n,photoID:y,storyRenderLocation:B},a.queries))}),b("cr:1689664")&&a.queries.loggedOutCTAfooterDataQueryReference&&h.jsx(b("cr:1689664"),{footerDataQueryReference:a.queries.loggedOutCTAfooterDataQueryReference})]})})})})})})});if(g)return h.jsx(c("CometTrackingCodeContext").Provider,{value:g,children:h.jsx(c("CometFeedStoryClickLoggerImpl.react"),{children:x})});else return x}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometPhotosLoggedOutCTAWrapper.react",["fbt","CometLoggedOutCTA.react","CometPhotosLoggedOutCTAWrapperFooterDataQuery.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=i!==void 0?i:i=b("CometPhotosLoggedOutCTAWrapperFooterDataQuery.graphql");a=function(a){a=a.footerDataQueryReference;a=d("CometRelay").usePreloadedQuery(k,a);a=a==null?void 0:(a=a.node)==null?void 0:(a=a.owner)==null?void 0:a.name;a=a!=null?h._("See more of {name-of-owner} on Facebook",[h._param("name-of-owner",a)]):null;return j.jsx(c("CometLoggedOutCTA.react"),{footerHeaderText:a,referrerSurface:27})};e=a;g["default"]=e}),98);
__d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker",[],(function(a,b,c,d,e,f){"use strict";a=typeof Symbol==="function"&&typeof Symbol()==="symbol"?Symbol():Object.freeze({});f.INDETERMINATE_ADJOINING_MEDIA_URL=a}),66);
__d("CometMediaViewerNavigationTapTarget.react",["ix","CometMediaViewerDispatcherContext","CometPressable.react","CometProgressSkittleIndeterminate.react","CometSkittleIcon.react","CometTrackingNodeProvider.react","CometVisualCompletionAttributes","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext,k={buttonContainerBackground:{backgroundColor:"xiwuv7k",$$css:!0},buttonContainerHoverLeft:{opacity:"x1hc1fzr",transform:"xs51lif",$$css:!0},buttonContainerHoverRight:{opacity:"x1hc1fzr",transform:"xzycz3q",$$css:!0},fullHeight:{height:"x5yr21d",$$css:!0},invisible:{opacity:"xg01cxk",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",visibility:"xlshs6z",$$css:!0},navButton:{alignItems:"x6s0dn4",display:"x78zum5",opacity:"x197sbye",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x1n2onr6",transitionDuration:"x1k90msu",transitionProperty:"x6o7n8i",transitionTimingFunction:"x9lcvmn",willChange:"x6my1t9",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",opacity:"x1hc1fzr",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x1jl3cmp",transitionTimingFunction:"x1dhq9h",willChange:"xfwg19i",zIndex:"x1vjfegm",$$css:!0},tapTargetOverlay:{height:"x5yr21d",$$css:!0}};function a(a){var b=a.direction,e=a.hoverOverlayHeight,f=e===void 0?"default":e;e=a.invisible;e=e===void 0?!1:e;var g=a.isLoading,l=g===void 0?!1:g;g=a.label;var m=a.onClick,n=a.testid;n=a.trackingNode;var o=j(c("CometMediaViewerDispatcherContext"));a=function(){o({isHovered:!0,type:"SET_IS_HOVERED"})};var p=function(){o({isHovered:!1,type:"SET_IS_HOVERED"})};return i.jsx("div",babelHelpers["extends"]({},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{className:"x6s0dn4 x78zum5 xl56j7k x1n2onr6 x1jl3cmp xfwg19i x1vjfegm"+((e?" xg01cxk xhb22t3 xls3em1 xlshs6z":" x1hc1fzr x1ebt8du x1dhq9h")+(f==="default"?" x5yr21d":""+(e?"":""))),"data-testid":void 0,onMouseEnter:a,onMouseLeave:p,children:i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:n,children:i.jsx(c("CometPressable.react"),{"aria-label":g,disabled:l,focusable:!1,onPress:m,testid:void 0,xstyle:f==="default"&&k.tapTargetOverlay,children:function(a){a=a.hovered;return i.jsx("div",{className:c("stylex")(k.navButton,f==="default"&&k.buttonContainerBackground,a&&!l&&(b==="previous"?k.buttonContainerHoverLeft:k.buttonContainerHoverRight)),children:l?i.jsx(c("CometProgressSkittleIndeterminate.react"),{size:48}):i.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:b==="previous"?d("fbicon")._(h("492491"),24):d("fbicon")._(h("492539"),24),size:48})})}})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMediaViewerStageOld.react",["fbt","CometFullScreen","CometKeys","CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker","CometMediaViewerNavigationTapTarget.react","CometMediaViewerViewStateContext","CometProductTagFunnelIDContext","Locale","cometGetKeyCommandConfig","gkx","react","useCometRoute","useCometRouterDispatcher","useDebouncedComet","useLayerKeyCommands","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState,p=c("gkx")("1299319"),q=c("gkx")("1745416"),r=c("gkx")("1333"),s=2e3;function a(a){var b=a.backgroundColor;b=b===void 0?"default":b;var e=a.initialTracePolicy,f=a.isPlayable;f=f===void 0?!1:f;var g=a.isUntagged,t=a.nextMediaURI,u=a.onNavigatePhoto,v=a.prevMediaURI,w=a.storyRenderLocation,x=a.subOrigin,y=a.useKeyCommands,z=y===void 0?!0:y,A=k(c("CometProductTagFunnelIDContext")),B=c("useCometRouterDispatcher")();y=o(!1);var C=y[0],D=y[1],E=k(c("CometMediaViewerViewStateContext")),F=n(!0);y=function(){return G.isPending()?H():G()};var G=c("useDebouncedComet")(function(){D(!1),H()},{leading:!0,wait:s}),H=c("useDebouncedComet")(function(){L==null&&!E.isHovered&&D(!0),F.current=!1},{leading:!1,wait:s}),I=n(null);c("useLayoutEffect_SAFE_FOR_SSR")(function(){H(),I.current&&F.current&&I.current.focus()});var J=j(function(){B!=null&&B.popPushView()},[B]),K=o(null),L=K[0],M=K[1],N=j(function(){if(t===d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL){M("next");return}if(B==null||typeof t!=="string")return;u&&u();B.go(t,{passthroughProps:{initialTracePolicy:e,isUntagged:g,productTagFunnelID:A,storyRenderLocation:w,subOrigin:x},target:"self",traceParams:{navigation_source:"CometMediaViewer_next"}})},[t,B,u,e,A,w,g,x]),O=j(function(){if(v===d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL){M("prev");return}if(B==null||typeof v!=="string")return;u&&u();B.go(v,{passthroughProps:{initialTracePolicy:e,isUntagged:g,productTagFunnelID:A,storyRenderLocation:w,subOrigin:x},target:"self",traceParams:{navigation_source:"CometMediaViewer_prev"}})},[v,B,u,e,A,g,w,x]);l(function(){switch(L){case"next":t!==d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL&&(M(null),H(),N());break;case"prev":v!==d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL&&(M(null),H(),O());break;default:break}},[N,O,H,t,L,v]);c("useCometRoute")(typeof v==="string"?v:null);c("useCometRoute")(typeof t==="string"?t:null);var P=h._("Previous photo"),Q=h._("Next photo"),R=j(function(){var a=d("CometFullScreen").getFullScreenElement();if(a==null){a=document.documentElement;a!=null&&d("CometFullScreen").requestFullScreen(a)}else d("CometFullScreen").exitFullScreen()},[]),S=t===d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL||typeof t==="string"&&t!=="",T=v===d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL||typeof v==="string"&&v!=="";K=!T||C||q||r;C=!S||C||q||r;var U=m(function(){if(!z||q||r)return[];var a=[];T&&(a.push({command:{key:c("CometKeys").PREVIOUS},description:P,handler:O}),a.push(d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","viewPrevious",O)));S&&(a.push({command:{key:c("CometKeys").NEXT},description:Q,handler:N}),a.push(d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","viewNext",N)));a.push(d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","fullscreen",R));return a},[N,O,S,T,Q,P,R,z]);c("useLayerKeyCommands")(U);U=i.jsx(c("CometMediaViewerNavigationTapTarget.react"),{direction:c("Locale").isRTL()?"next":"previous",hoverOverlayHeight:f?"auto":"default",invisible:K,isLoading:L==="prev",label:P,onClick:O,testid:void 0,trackingNode:143});K=i.jsx(c("CometMediaViewerNavigationTapTarget.react"),{direction:c("Locale").isRTL()?"previous":"next",hoverOverlayHeight:f?"auto":"default",invisible:C,isLoading:L==="next",label:Q,onClick:N,testid:void 0,trackingNode:142});return i.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d x17upfok x1n2onr6 x1uvtmcs"+(b==="dark"?" xjb1437":""+(b==="default"?" xal61yo":"")),onMouseMove:y,ref:I,tabIndex:"0",children:i.jsxs("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 x5yr21d xl56j7k x1n2onr6 x1uvtmcs",children:[i.jsxs("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xds687c x1qughib x10l6tqk x17qophe x13vifvy","data-name":"media-viewer-nav-container",children:[!p&&i.jsx("div",{"aria-hidden":!0,className:"x1ey2m1c x9f619 xds687c x10l6tqk x17qophe x13vifvy","data-testid":void 0,onClick:J}),U,K]}),a.children]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);